this.itsec=this.itsec||{},this.itsec.core=this.itsec.core||{},this.itsec.core["admin-notices-dashboard-admin-bar"]=(window.itsecWebpackJsonP=window.itsecWebpackJsonP||[]).push([[13],{"0ONt":function(e,t,i){"use strict";var n=i("GRId"),c=i("TSYQ"),s=i.n(c),a=i("tI+e"),o=i("l3Sj"),r=i("1ZqX"),l=i("rE5z");i("BEpq");t.a=function(){const[e,t]=Object(n.useState)(!1),{notices:i,noticesLoaded:c}=Object(r.useSelect)(e=>({notices:e("ithemes-security/admin-notices").getNotices(),noticesLoaded:e("ithemes-security/admin-notices").areNoticesLoaded()}),[]);return Object(n.createElement)(React.Fragment,null,Object(n.createElement)(a.ToolbarButton,{"aria-expanded":e,onClick:()=>t(!e),icon:"bell",text:Object(o.__)("Alerts","it-l10n-ithemes-security-pro"),className:s()("itsec-admin-bar-admin-notices__trigger",{"itsec-admin-bar-admin-notices__trigger--has-notices":i.length>0})}),e&&Object(n.createElement)(a.Popover,{className:"itsec-admin-bar-admin-notices__content",expandOnMobile:!0,focusOnMount:"container",position:"bottom left",headerTitle:Object(o.__)("Notifications","it-l10n-ithemes-security-pro"),onClose:()=>t(!1),onFocusOutside:()=>t(!1)},Object(n.createElement)(l.a,{notices:i,loaded:c,close:()=>t(!1)})))}},"1ZqX":function(e,t){!function(){e.exports=this.wp.data}()},BEpq:function(e,t,i){},Ckse:function(e,t,i){},GRId:function(e,t){!function(){e.exports=this.wp.element}()},Hz6T:function(e,t){!function(){e.exports=this.itsec.core["admin-notices-api"]}()},K9lf:function(e,t){!function(){e.exports=this.wp.compose}()},KTI5:function(e,t,i){},Pesb:function(e,t,i){"use strict";i.r(t);var n=i("GRId"),c=i("TvNi"),s=(i("Hz6T"),i("cruf")),a=i("0ONt");i.p=window.itsecWebpackPublicPath,Object(c.registerPlugin)("itsec-admin-notices-dashboard-admin-bar",{render:()=>Object(n.createElement)(s.AdminBarFill,null,Object(n.createElement)(a.a,null))})},TSYQ:function(e,t,i){
/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){"use strict";var t={}.hasOwnProperty;function i(){for(var e=[],n=0;n<arguments.length;n++){var c=arguments[n];if(c){var s=typeof c;if("string"===s||"number"===s)e.push(c);else if(Array.isArray(c)){if(c.length){var a=i.apply(null,c);a&&e.push(a)}}else if("object"===s)if(c.toString===Object.prototype.toString)for(var o in c)t.call(c,o)&&c[o]&&e.push(o);else e.push(c.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):"function"==typeof define&&"object"==typeof define.amd&&define.amd?define("classnames",[],(function(){return i})):window.classNames=i}()},TvNi:function(e,t){!function(){e.exports=this.wp.plugins}()},UuzZ:function(e,t){!function(){e.exports=this.wp.autop}()},VwaH:function(e,t,i){},YLtl:function(e,t){!function(){e.exports=this.lodash}()},cruf:function(e,t){!function(){e.exports=this.itsec.dashboard.api}()},l3Sj:function(e,t){!function(){e.exports=this.wp.i18n}()},"o/Pk":function(e,t,i){},rE5z:function(e,t,i){"use strict";var n=i("GRId"),c=i("TSYQ"),s=i.n(c),a=i("YLtl"),o=i("l3Sj"),r=i("tI+e"),l=i("K9lf"),m=i("1ZqX"),u=i("UuzZ");i("VwaH");function d(e){let{notice:t}=e;return Object(n.createElement)("article",{className:"itsec-admin-notice itsec-admin-notice--severity-"+t.severity},Object(n.createElement)("header",{className:"itsec-admin-notice__header"},Object(n.createElement)("div",{className:"itsec-admin-notice__header-inset"},Object(n.createElement)("h4",{dangerouslySetInnerHTML:{__html:t.title||h(t.message,t)}}),Object(a.map)(t.actions,(e,i)=>"primary"===e.style&&Object(n.createElement)(b,{key:i,notice:t,action:e})))),t.title&&t.message&&Object(n.createElement)("section",{className:"itsec-admin-notice__message",dangerouslySetInnerHTML:{__html:Object(u.autop)(h(t.message,t))}}),function(e){if(Object(a.isEmpty)(e.meta))return!1;if(1===Object(a.size)(e.meta)&&e.meta.hasOwnProperty("created_at"))return!1;return!0}(t)&&Object(n.createElement)("dl",{className:"itsec-admin-notice__meta"},Object(a.map)(t.meta,(e,t)=>"created_at"!==t&&Object(n.createElement)(n.Fragment,{key:t},Object(n.createElement)("dt",null,e.label),Object(n.createElement)("dd",null,e.formatted)))),t.meta.created_at&&Object(n.createElement)("footer",{className:"itsec-admin-notice__footer"},Object(n.createElement)("time",{dateTime:t.meta.created_at.value},t.meta.created_at.formatted)))}function b(e){let{notice:t,action:i}=e;const c=Object(m.useSelect)(e=>e("ithemes-security/admin-notices").getInProgressActions(t.id).includes(i.id),[t.id,i.id]),{doNoticeAction:s}=Object(m.useDispatch)("ithemes-security/admin-notices"),{fetchModules:a}=Object(m.useDispatch)("ithemes-security/modules")||{};return Object(n.createElement)(r.Button,{href:i.uri,onClick:async e=>{i.uri||(e.preventDefault(),await s(t.id,i.id),null==a||a())},isBusy:c},i.title)}function h(e,t){for(const i in t.actions)t.actions.hasOwnProperty(i)&&""!==t.actions[i].uri&&(e=e.replace("{{ $"+i+" }}",t.actions[i].uri));return e}i("o/Pk");var p=Object(l.compose)([Object(m.withDispatch)(e=>({doAction:e("ithemes-security/admin-notices").doNoticeAction})),Object(m.withSelect)((e,t)=>({inProgress:e("ithemes-security/admin-notices").getInProgressActions(t.notice.id)}))])((function(e){let{notice:t,doAction:i,inProgress:c}=e;const s=[];for(const e in t.actions){if(!t.actions.hasOwnProperty(e))continue;const a=t.actions[e];"close"===a.style&&s.push(Object(n.createElement)("li",{key:e},Object(n.createElement)(r.Button,{icon:"dismiss",label:a.title,onClick:()=>i(t.id,e),isBusy:c.includes(e)})))}const l=function(e){const t={};for(const i in e.actions){if(!e.actions.hasOwnProperty(i))continue;const n=e.actions[i];"close"!==n.style&&("primary"!==n.style&&(t[i]=n))}return t}(t);return Object(a.isEmpty)(l)||s.push(Object(n.createElement)("li",{key:"more"},Object(n.createElement)(r.Dropdown,{position:"bottom right",className:"itsec-admin-notice-list-actions__more-menu",contentClassName:"itsec-admin-notice-list-actions__more-menu-items",renderToggle:e=>{let{isOpen:t,onToggle:i}=e;return Object(n.createElement)(r.Button,{icon:"ellipsis",label:Object(o.__)("More Actions","it-l10n-ithemes-security-pro"),onClick:i,"aria-haspopup":!0,"aria-expanded":t})},renderContent:()=>Object(n.createElement)(r.NavigableMenu,{role:"menu"},Object(a.map)(l,(e,s)=>e.uri?Object(n.createElement)(r.Button,{key:s,href:e.uri},e.title):Object(n.createElement)(r.Button,{key:s,onClick:()=>i(t.id,s),disabled:c.includes(s)},e.title,c.includes(s)&&Object(n.createElement)(r.Spinner,null))))}))),Object(n.createElement)("ul",{className:"itsec-admin-notice-list-actions"},s)}));i("Ckse");var O=function(e){let{notices:t}=e;return Object(n.createElement)("ul",{className:"itsec-admin-notice-list"},t.map(e=>Object(n.createElement)("li",{className:"itsec-admin-notice-list-item-container",key:e.id},Object(n.createElement)(p,{notice:e}),Object(n.createElement)(d,{notice:e,noticeId:e.id}))))};i("KTI5");t.a=Object(l.compose)([Object(m.withSelect)(e=>({mutedHighlights:e("ithemes-security/admin-notices").getMutedHighlights(),mutedHighlightUpdatesInFlight:e("ithemes-security/admin-notices").getMutedHighlightUpdatesInFlight()})),Object(m.withDispatch)(e=>({updateMutedHighlight:e("ithemes-security/admin-notices").updateMutedHighlight}))])((function(e){let{notices:t,loaded:i,mutedHighlights:c,mutedHighlightUpdatesInFlight:l,updateMutedHighlight:m}=e;const[u,d]=Object(n.useState)(!1);return Object(n.createElement)("div",{className:s()("itsec-admin-notice-panel",{"itsec-admin-notice-panel--is-configuring":u})},Object(n.createElement)(r.Button,{icon:"admin-generic",label:Object(o.__)("Configure","it-l10n-ithemes-security-pro"),className:"itsec-admin-notice-panel__configure-trigger",style:{opacity:Object(a.size)(c)>0?1:0},onClick:()=>d(!u)}),Object(n.createElement)("header",{className:"itsec-admin-notice-panel__header"},Object(n.createElement)("h3",null,Object(o.__)("Security Admin Messages","it-l10n-ithemes-security-pro")),Object(n.createElement)("p",null,Object(o.__)("Important notices from iThemes Security","it-l10n-ithemes-security-pro"))),u&&Object(n.createElement)("ul",{className:"itsec-admin-notice-panel__configure-highlighted-logs"},[{slug:"file-change-report",label:Object(o.__)("File Change Report","it-l10n-ithemes-security-pro")},{slug:"notification-center-send-failed",label:Object(o.__)("Notification Center Errors","it-l10n-ithemes-security-pro")},{slug:"malware-scan-report",label:Object(o.__)("Malware Scan Report","it-l10n-ithemes-security-pro")},{slug:"malware-scan-failed",label:Object(o.__)("Malware Scan Failed","it-l10n-ithemes-security-pro")},{slug:"site-scanner-report",label:Object(o.__)("Site Scan Report","it-l10n-ithemes-security-pro")}].map(e=>{let{slug:t,label:s}=e;return void 0!==c[t]&&Object(n.createElement)("li",null,Object(n.createElement)("label",{htmlFor:"itsec-mute-highlight-"+t},s),Object(n.createElement)(r.FormToggle,{id:"itsec-mute-highlight-"+t,disabled:!i||l[t],checked:!Object(a.get)(l,[t,"mute"],c[t]),onChange:()=>m(t,!c[t])}))})),t.length>0?Object(n.createElement)(O,{notices:t}):i&&Object(n.createElement)("span",null,Object(o.__)("No notices at the moment.","it-l10n-ithemes-security-pro")))}))},"tI+e":function(e,t){!function(){e.exports=this.wp.components}()}},[["Pesb",0]]]);